Changes since the 1.77.0 release

Note: This document lists changes only since the 1.77.0 release. If you instead
want a record of the complete list of changes for the codebase over its entire
history, you can obtain one by running the following commands:

  svn checkout https://docbook.svn.sourceforge.net/svnroot/docbook/trunk/xsl
  svn log --xml --verbose xsl > ChangeHistory.xml

-------------------------------------------------------------------------------

Table of Contents

Release Notes: snapshot_9587

    Gentext
    FO
    HTML
    Roundtrip
    Slides
    Website
    Webhelp
    Profiling
    Template

Release Notes: snapshot_9587

The following is a list of changes that have been made since the 1.77.0
release.

Gentext

The following changes have been made to the gentext code since the 1.77.0
release.

  * tom_schr: locale/de.xml

    Added keycap context from RFE#3540451 to support @function attribute

  * tom_schr: locale/en.xml

    Added keycap context from RFE#3540451 to support @function attribute

  * Robert Stayton: locale/en.xml

    Add support for title element in screenshot, now allowed in DocBook 5.

FO

The following changes have been made to the fo code since the 1.77.0 release.

  * tom_schr: inline.xsl

    Added support for @function attribute in keycap (uses keycap context
    from language files) => fixes RFE#3540451
    If @function is set and keycap is empty, then template will use the
    content from the keycap context, otherwise it will use just the given
    text

  * Robert Stayton: graphics.xsl; xref.xsl

    Add support for title element in screenshot, now allowed in DocBook 5.

  * Robert Stayton: graphics.xsl

    Restore formatting of figure/caption that was broken in 1.77.1.

  * Robert Stayton: docbook.xsl

    Import the VERSION.xsl file instead of VERSION so mimetype is interpreted correctly
    from the filename.

  * Robert Stayton: block.xsl

    In sidebar, turn off space before first para if there is no title.

  * Robert Stayton: math.xsl

    Restored templates for mml:* elements that were accidentally deleted.

HTML

The following changes have been made to the html code since the 1.77.0 release.

  * Robert Stayton: footnote.xsl

    Fix bug in footnote link introduced in 1.77.1.

  * Robert Stayton: formal.xsl; htmltbl.xsl

    Resolve conflict of duplicate ids on html table with caption.
    Wrap a div with class and id attribute around html table without caption.

  * Robert Stayton: component.xsl

    Remove call to 'generate.id' template in <h1> in component.title because the
    id is already generated for the parent div element.

  * Robert Stayton: chunker.xsl

    Set omit-xml-declaration to 'yes' for write.text.chunk template, since a text
    file should never have an xml declaration.

  * tom_schr: inline.xsl

    Added support for @function attribute in keycap (uses keycap context
    from language files) => fixes RFE#3540451
    If @function is set and keycap is empty, then template will use the
    content from the keycap context, otherwise it will use just the given
    text

  * David Cramer: docbook.xsl

    Also set the title param in head.content since it's sometimes
    called without that param being passed in. Use the passed-in
    value in user.head.title.

  * Robert Stayton: docbook.xsl

    Restore missing title param on 'head.content' template, and passed
    it along to user.head.title. That param
    is used for certain special chunkings such as Long Descriptions.

  * Robert Stayton: graphics.xsl; xref.xsl

    Add support for title in screenshot, available since DocBook 5.

  * David Cramer: docbook.xsl

    HTML: Add hook for easily customizing html/head/title

  * Robert Stayton: docbook.xsl

    Import the VERSION.xsl file instead of VERSION so mimetype is interpreted correctly
    from the filename.

  * Robert Stayton: sections.xsl

    Use $div.element variable in place of div to support html5 section element.
    output

  * Robert Stayton: autoidx.xsl

    Fix bug 3528673, missing "separator" param on template with
    match="indexterm" mode="reference".  That param is passed
    for endofrange processing to output the range separator.

Roundtrip

The following changes have been made to the roundtrip code since the 1.77.0
release.

  * Robert Stayton: dbk2ooo.xsl; dbk2pages.xsl; dbk2wordml.xsl; dbk2wp.xsl

    Import the VERSION.xsl file instead of VERSION so mimetype is interpreted correctly
    from the filename.

Slides

The following changes have been made to the slides code since the 1.77.0
release.

  * Robert Stayton: html/slides-common.xsl

    Import the VERSION.xsl file instead of VERSION so mimetype is interpreted correctly
    from the filename.

Website

The following changes have been made to the website code since the 1.77.0
release.

  * Robert Stayton: website-common.xsl

    Import the VERSION.xsl file instead of VERSION so mimetype is interpreted correctly
    from the filename.

Webhelp

The following changes have been made to the webhelp code since the 1.77.0
release.

  * David Cramer: xsl/webhelp-common.xsl

    Use user.head.title to add title to webhelp pages,
    but do not yet add the book title to the page title.

  * David Cramer: xsl/webhelp-common.xsl

    Webhelp: Revert 9433. We need to fix the indexer before we can include the document title in the html/head/title

  * David Cramer: xsl/webhelp-common.xsl

    Webhelp: Append document title to html/head/title

  * David Cramer: xsl/webhelp-common.xsl

    Webhelp: fix missing reference to ie.css

  * David Cramer: xsl/webhelp-common.xsl

    Webhelp: Increase default value for chunk.section.depth

  * kasunbg: docsrc/readme.xml

    updated webhelp documentation

  * kasunbg: template/content/search/nwSearchFnt.js; xsl/webhelp-common.xsl

    Removed the script htmlFileList.js since it's content is in htmlFileInfoList.js

  * Robert Stayton: xsl/webhelp-common.xsl

    In the <h1> output, replace call to 'get.doc.title' with
    mode="title.markup" because get.doc.title returns only
    the string value of the title, losing any markup such
    as <trademark> or <superscript>.

  * kasunbg: template/common/css/positioning.css; template/content/search/
    nwSearchFnt.js

    Remove unnecessary bits of code from webhelp

  * David Cramer: docsrc/readme.xml

    Webhelp: Minor edits to the readme

  * David Cramer: xsl/webhelp.xsl; xsl/titlepage.templates.xsl; xsl/
    titlepage.templates.xml

    Webhelp: Suppress abstracts from titlepages. These are used to create the search result summary sentence and should not be shown

  * David Cramer: build.xml

    Webhelp: calculate path to profile.xsl from main build.xml file

Profiling

The following changes have been made to the profiling code since the 1.77.0
release.

  * Robert Stayton: xsl2profile.xsl

    Test for @xml:id as well as @id for $rootid.

Template

The following changes have been made to the template code since the 1.77.0
release.

  * Robert Stayton: titlepage.xsl

    Undo last change because not implemented correctly.

  * Robert Stayton: titlepage.xsl

    Fix xsl:element to not overwrite the incoming fo: namespace
    if the $ns param is not set.

